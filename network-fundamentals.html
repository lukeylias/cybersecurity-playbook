<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cpath d='M16 2L4 7v9c0 8 5 14 12 16 7-2 12-8 12-16V7L16 2z' fill='%230a1628' stroke='%234a6fa5' stroke-width='2'/%3E%3Ccircle cx='16' cy='13' r='3.5' fill='none' stroke='%237ba3d4' stroke-width='2'/%3E%3Crect x='14.5' y='15' width='3' height='5' rx='1' fill='%237ba3d4'/%3E%3C/svg%3E">
    <title>Network Fundamentals - Cybersecurity Fundamentals</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --bg-primary: #0a1628;
            --bg-secondary: #0d1c30;
            --accent-primary: #4a6fa5;
            --accent-light: #7ba3d4;
            --accent-glow: rgba(74, 111, 165, 0.4);
            --text-primary: #e8f0f8;
            --text-secondary: #c4d4e8;
            --text-muted: #a8b8c8;
            --text-dim: #3a4a5a;
            --border-subtle: rgba(74, 111, 165, 0.2);
            --border-medium: rgba(74, 111, 165, 0.3);
            --surface-subtle: rgba(74, 111, 165, 0.08);
            --surface-medium: rgba(74, 111, 165, 0.15);
            --surface-active: rgba(74, 111, 165, 0.25);
            --font-mono: 'DM Mono', monospace;
            --font-sans: 'DM Sans', system-ui, sans-serif;
        }

        body { font-family: var(--font-sans); background: var(--bg-primary); color: var(--text-secondary); min-height: 100vh; line-height: 1.6; }

        /* Navigation */
        .site-nav { position: fixed; top: 0; left: 0; right: 0; z-index: 100; background: rgba(10, 22, 40, 0.9); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border-subtle); }
        .nav-container { max-width: 1200px; margin: 0 auto; padding: 0 24px; display: flex; align-items: center; justify-content: space-between; height: 60px; }
        .nav-logo { display: flex; align-items: center; gap: 12px; text-decoration: none; color: var(--text-primary); }
        .nav-logo-icon { width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; }
        .nav-logo-text { font-weight: 500; font-size: 0.95rem; letter-spacing: 0.5px; }
        .nav-links { display: flex; align-items: center; gap: 6px; }
        .nav-dropdown { position: relative; }
        .nav-dropdown-btn { font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted); background: none; border: 1px solid transparent; padding: 8px 14px; border-radius: 4px; cursor: pointer; display: flex; align-items: center; gap: 6px; transition: all 0.2s; letter-spacing: 0.5px; }
        .nav-dropdown-btn:hover, .nav-dropdown.open .nav-dropdown-btn { color: var(--text-primary); background: var(--surface-subtle); border-color: var(--border-subtle); }
        .nav-dropdown-btn svg { width: 10px; height: 10px; transition: transform 0.2s; }
        .nav-dropdown.open .nav-dropdown-btn svg { transform: rotate(180deg); }
        .nav-dropdown-menu { position: absolute; top: calc(100% + 8px); left: 0; background: rgba(13, 28, 48, 0.98); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 8px; min-width: 240px; opacity: 0; visibility: hidden; transform: translateY(-8px); transition: all 0.2s; box-shadow: 0 16px 48px rgba(0, 0, 0, 0.5); backdrop-filter: blur(12px); }
        .nav-dropdown.open .nav-dropdown-menu { opacity: 1; visibility: visible; transform: translateY(0); }
        .nav-dropdown-item { display: block; padding: 10px 14px; color: var(--text-secondary); text-decoration: none; border-radius: 6px; transition: all 0.15s; }
        .nav-dropdown-item:hover { background: var(--surface-medium); color: var(--text-primary); }
        .nav-dropdown-item.current .nav-dropdown-item-title { color: var(--accent-light); }
        .nav-dropdown-item-title { font-size: 0.85rem; font-weight: 500; margin-bottom: 2px; }
        .nav-dropdown-item-desc { font-family: var(--font-mono); font-size: 0.65rem; color: var(--text-muted); }
        .nav-mobile-toggle { display: none; background: none; border: 1px solid var(--border-subtle); color: var(--text-muted); padding: 6px 10px; border-radius: 4px; cursor: pointer; font-family: var(--font-mono); font-size: 0.8rem; }
        .nav-mobile-toggle:hover { color: var(--text-primary); background: var(--surface-subtle); }
        @media (max-width: 640px) {
            .nav-links { display: none; position: absolute; top: 60px; left: 0; right: 0; background: rgba(10, 22, 40, 0.98); border-bottom: 1px solid var(--border-subtle); padding: 12px; flex-direction: column; gap: 4px; backdrop-filter: blur(12px); }
            .nav-links.mobile-open { display: flex; }
            .nav-mobile-toggle { display: block; }
            .nav-dropdown { width: 100%; }
            .nav-dropdown-btn { width: 100%; }
            .nav-dropdown-menu { position: static; opacity: 1; visibility: visible; transform: none; box-shadow: none; border: none; background: var(--surface-subtle); border-radius: 8px; display: none; margin-top: 4px; min-width: auto; }
            .nav-dropdown.open .nav-dropdown-menu { display: block; }
        }

        .page { padding-top: 60px; min-height: 100vh; display: flex; flex-direction: column; }
        .page-content { flex: 1; display: flex; flex-direction: column; align-items: center; padding: 40px 20px; }
        .page-header { text-align: center; margin-bottom: 40px; }
        .page-title { color: var(--text-primary); font-size: 1.3rem; font-weight: 500; letter-spacing: 1px; margin-bottom: 8px; }
        .page-subtitle { color: var(--accent-primary); font-family: var(--font-mono); font-size: 0.7rem; letter-spacing: 2px; text-transform: uppercase; }

        .main-content { display: flex; gap: 60px; align-items: flex-start; max-width: 1000px; width: 100%; }
        .main-content.intro-mode { flex-direction: column; align-items: center; }
        .main-content.intro-mode .building-visualization { display: none; }
        .main-content.intro-mode .info-panel { width: 100%; max-width: 600px; text-align: center; }

        /* Building Visualization */
        .building-visualization { position: relative; width: 420px; height: 480px; flex-shrink: 0; }
        .building-svg { width: 100%; height: 100%; }

        /* SVG Elements */
        .building-element { transition: opacity 0.4s ease, transform 0.4s ease; }
        .building-element.hidden { opacity: 0; }
        .building-element.active { opacity: 1; }
        
        .building-outline { fill: none; stroke: var(--accent-primary); stroke-width: 2; }
        .building-fill { fill: var(--surface-subtle); }
        .door { fill: var(--bg-primary); stroke: var(--accent-primary); stroke-width: 1.5; }
        .door.active { fill: var(--surface-active); stroke: var(--accent-light); stroke-width: 2; }
        .door-label { font-family: var(--font-mono); font-size: 11px; fill: var(--text-primary); text-anchor: middle; }
        .room-icon { fill: var(--accent-light); }
        .room-label { font-family: var(--font-mono); font-size: 9px; fill: var(--text-muted); text-anchor: middle; }
        .address-label { font-family: var(--font-mono); font-size: 14px; fill: var(--accent-light); text-anchor: middle; }
        .address-box { fill: var(--surface-medium); stroke: var(--accent-primary); stroke-width: 1; rx: 4; }
        .server-label { font-family: var(--font-mono); font-size: 10px; fill: var(--accent-primary); text-anchor: middle; letter-spacing: 2px; }
        .client-icon { fill: none; stroke: var(--accent-light); stroke-width: 1.5; }
        .client-body { fill: var(--surface-medium); }
        .connection-line { stroke: var(--accent-primary); stroke-width: 2; stroke-dasharray: 6 4; fill: none; }
        .connection-line.active { stroke: var(--accent-light); stroke-dasharray: none; }
        .full-address { font-family: var(--font-mono); font-size: 16px; fill: var(--text-primary); text-anchor: middle; font-weight: 500; }
        .highlight-box { fill: none; stroke: var(--accent-light); stroke-width: 2; stroke-dasharray: 4 2; }

        /* Info Panel */
        .info-panel { width: 340px; min-height: 420px; }
        .info-header { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; padding-bottom: 16px; border-bottom: 1px solid var(--border-subtle); }
        .info-icon { font-size: 1.5rem; width: 44px; height: 44px; display: flex; align-items: center; justify-content: center; border: 1px solid var(--accent-primary); border-radius: 6px; background: var(--surface-subtle); }
        .info-title { font-size: 1.15rem; font-weight: 500; color: var(--text-primary); }
        .info-phase { font-family: var(--font-mono); font-size: 0.65rem; color: var(--accent-primary); text-transform: uppercase; letter-spacing: 1px; }
        .info-highlight { font-family: var(--font-mono); font-size: 0.85rem; color: var(--accent-light); margin-bottom: 16px; padding: 12px 14px; background: var(--surface-subtle); border-radius: 6px; border-left: 3px solid var(--accent-primary); line-height: 1.6; }
        .info-description { font-size: 0.9rem; line-height: 1.7; color: var(--text-muted); margin-bottom: 20px; }
        .info-concepts { margin-top: 20px; }
        .info-concepts-title { font-family: var(--font-mono); font-size: 0.65rem; color: var(--accent-primary); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px; }
        .concept-tag { display: inline-block; font-family: var(--font-mono); font-size: 0.7rem; color: var(--text-secondary); padding: 6px 12px; background: var(--surface-medium); border-radius: 4px; margin: 0 6px 8px 0; }
        .info-intro { text-align: center; padding: 30px 20px; }
        .info-intro p { font-size: 0.9rem; line-height: 1.7; color: var(--text-muted); margin-bottom: 16px; }
        .info-intro .hint { font-family: var(--font-mono); font-size: 0.75rem; color: var(--accent-primary); }
        .info-intro .analogy-box { font-family: var(--font-mono); font-size: 0.95rem; color: var(--text-primary); background: var(--surface-subtle); padding: 16px 24px; border-radius: 8px; margin: 20px 0; display: inline-block; border: 1px solid var(--border-subtle); }

        /* Navigation Controls */
        .nav-controls { display: flex; gap: 12px; margin-top: 24px; align-items: center; justify-content: center; }
        button { font-family: var(--font-mono); background: transparent; color: var(--text-secondary); border: 1px solid var(--accent-primary); padding: 10px 24px; border-radius: 4px; cursor: pointer; font-size: 0.75rem; font-weight: 500; letter-spacing: 0.5px; transition: all 0.2s; }
        button:hover { background: var(--surface-medium); border-color: var(--accent-light); }
        button:disabled { color: var(--text-dim); border-color: #2a3a4a; cursor: not-allowed; }
        button:disabled:hover { background: transparent; }
        button.primary { background: var(--surface-medium); }
        .progress-dots { display: flex; gap: 4px; }
        .progress-dot { width: 6px; height: 6px; border-radius: 50%; background: rgba(74, 111, 165, 0.3); transition: all 0.3s; }
        .progress-dot.active { background: var(--accent-primary); }
        .progress-dot.visited { background: rgba(74, 111, 165, 0.6); }

        /* Reference Tables Section */
        .reference-section { max-width: 900px; width: 100%; margin-top: 60px; padding-top: 40px; border-top: 1px solid var(--border-subtle); }
        .reference-title { font-family: var(--font-mono); font-size: 0.7rem; color: var(--accent-primary); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 20px; text-align: center; }
        .tables-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }
        .reference-table { background: var(--surface-subtle); border-radius: 8px; overflow: hidden; border: 1px solid var(--border-subtle); }
        .reference-table h3 { font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-primary); padding: 14px 18px; background: var(--surface-medium); border-bottom: 1px solid var(--border-subtle); letter-spacing: 0.5px; }
        .reference-table table { width: 100%; border-collapse: collapse; }
        .reference-table th, .reference-table td { padding: 12px 18px; text-align: left; border-bottom: 1px solid var(--border-subtle); }
        .reference-table th { font-family: var(--font-mono); font-size: 0.65rem; color: var(--accent-primary); text-transform: uppercase; letter-spacing: 1px; background: var(--surface-subtle); }
        .reference-table td { font-size: 0.85rem; color: var(--text-secondary); }
        .reference-table td:first-child { font-family: var(--font-mono); color: var(--text-primary); font-weight: 500; }
        .reference-table tr:last-child td { border-bottom: none; }
        .reference-table tr:hover td { background: var(--surface-medium); }

        @media (max-width: 1000px) {
            .main-content { flex-direction: column; align-items: center; }
            .building-visualization { width: 100%; max-width: 420px; }
            .info-panel { width: 100%; max-width: 500px; }
            .tables-grid { grid-template-columns: 1fr; }
        }

        @media (max-width: 500px) {
            .building-visualization { height: 380px; }
        }

        /* Protocol Sections */
        .protocol-sections { max-width: 900px; width: 100%; margin-top: 60px; }

        .protocol-section {
            padding: 40px 0;
            border-top: 1px solid var(--border-subtle);
        }

        .protocol-header {
            margin-bottom: 24px;
        }

        .protocol-title {
            font-size: 1.2rem;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .protocol-oneliner {
            font-family: var(--font-mono);
            font-size: 0.85rem;
            color: var(--accent-light);
            padding: 10px 14px;
            background: var(--surface-subtle);
            border-left: 3px solid var(--accent-primary);
            border-radius: 0 6px 6px 0;
        }

        .problem-box {
            background: var(--surface-subtle);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            padding: 16px 20px;
            margin-bottom: 24px;
        }

        .problem-label {
            font-family: var(--font-mono);
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--accent-primary);
            margin-bottom: 8px;
        }

        .problem-box p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .section-subtitle {
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-primary);
            margin: 24px 0 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-subtitle::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border-subtle);
        }

        /* Process Tables */
        .process-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 24px;
            font-size: 0.9rem;
        }

        .process-table th {
            font-family: var(--font-mono);
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--accent-primary);
            text-align: left;
            padding: 12px 16px;
            border-bottom: 1px solid var(--border-medium);
            background: var(--surface-subtle);
        }

        .process-table th:first-child { border-radius: 8px 0 0 0; }
        .process-table th:last-child { border-radius: 0 8px 0 0; }

        .process-table td {
            padding: 14px 16px;
            border-bottom: 1px solid var(--border-subtle);
            color: var(--text-secondary);
        }

        .process-table tr:last-child td { border-bottom: none; }

        .process-table tr:hover td { background: var(--surface-subtle); }

        .process-table .step-num {
            font-family: var(--font-mono);
            font-weight: 500;
            color: var(--accent-light);
            width: 50px;
        }

        .process-table .step-name {
            font-weight: 500;
            color: var(--text-primary);
        }

        /* Key Points */
        .key-points {
            list-style: none;
            margin-bottom: 24px;
        }

        .key-points li {
            font-size: 0.9rem;
            color: var(--text-secondary);
            padding: 8px 0 8px 24px;
            position: relative;
            border-bottom: 1px solid var(--border-subtle);
        }

        .key-points li:last-child { border-bottom: none; }

        .key-points li::before {
            content: '›';
            position: absolute;
            left: 6px;
            color: var(--accent-primary);
            font-weight: bold;
        }

        /* Command Box */
        .command-box {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            padding: 16px 20px;
            margin-bottom: 24px;
        }

        .command-label {
            font-family: var(--font-mono);
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .command-code {
            font-family: var(--font-mono);
            font-size: 0.95rem;
            color: var(--accent-light);
        }

        .command-note {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 8px;
        }

        /* Security Callout */
        --red-team: #d4785a;
        
        .security-callout {
            background: rgba(212, 120, 90, 0.1);
            border: 1px solid rgba(212, 120, 90, 0.3);
            border-radius: 8px;
            padding: 16px 20px;
            margin-bottom: 24px;
        }

        .security-callout.info {
            background: var(--surface-subtle);
            border-color: var(--border-medium);
        }

        .security-callout-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }

        .security-callout-icon {
            font-size: 1rem;
        }

        .security-callout-title {
            font-family: var(--font-mono);
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #d4785a;
        }

        .security-callout.info .security-callout-title {
            color: var(--accent-primary);
        }

        .security-callout p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .security-callout strong {
            color: var(--text-primary);
        }

        /* Visual Diagram */
        .visual-diagram {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 24px;
            text-align: center;
            overflow-x: auto;
        }

        .visual-diagram-content {
            font-family: var(--font-mono);
            font-size: 0.85rem;
            color: var(--text-secondary);
            white-space: nowrap;
            display: inline-flex;
            align-items: center;
            gap: 12px;
        }

        .visual-box {
            padding: 8px 14px;
            border-radius: 6px;
            background: var(--surface-medium);
            border: 1px solid var(--border-subtle);
        }

        .visual-box.highlight {
            border-color: var(--accent-primary);
            color: var(--accent-light);
        }

        .visual-arrow {
            color: var(--accent-primary);
            font-size: 1.2rem;
        }

        /* Cross Reference Link */
        .cross-ref {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: var(--font-mono);
            font-size: 0.8rem;
            color: var(--accent-light);
            text-decoration: none;
            padding: 10px 16px;
            background: var(--surface-subtle);
            border: 1px solid var(--border-subtle);
            border-radius: 6px;
            transition: all 0.2s;
            margin-bottom: 16px;
        }

        .cross-ref:hover {
            background: var(--surface-medium);
            border-color: var(--accent-primary);
        }

        /* Glossary Section */
        .glossary-section {
            max-width: 900px;
            width: 100%;
            margin-top: 40px;
            padding-top: 40px;
            border-top: 1px solid var(--border-subtle);
        }

        .glossary-toggle {
            width: 100%;
            background: var(--surface-subtle);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            cursor: pointer;
        }

        .glossary-toggle summary {
            padding: 16px 20px;
            font-family: var(--font-mono);
            font-size: 0.8rem;
            color: var(--text-muted);
            list-style: none;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .glossary-toggle summary::-webkit-details-marker { display: none; }

        .glossary-toggle summary::after {
            content: '+';
            font-size: 1.2rem;
            color: var(--accent-primary);
            transition: transform 0.2s;
        }

        .glossary-toggle[open] summary::after {
            content: '−';
        }

        .glossary-toggle[open] {
            border-radius: 8px 8px 0 0;
        }

        .glossary-content {
            padding: 0 20px 20px;
        }

        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }

        .glossary-table th {
            font-family: var(--font-mono);
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--accent-primary);
            text-align: left;
            padding: 10px 12px;
            border-bottom: 1px solid var(--border-medium);
        }

        .glossary-table td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--border-subtle);
            color: var(--text-muted);
        }

        .glossary-table tr:last-child td { border-bottom: none; }

        .glossary-table .term-cell {
            font-family: var(--font-mono);
            font-weight: 500;
            color: var(--text-secondary);
            width: 140px;
        }

        @media (max-width: 700px) {
            .process-table { font-size: 0.8rem; }
            .process-table th, .process-table td { padding: 10px 12px; }
            .visual-diagram-content { font-size: 0.75rem; gap: 8px; }
            .visual-box { padding: 6px 10px; }
            .glossary-table .term-cell { width: auto; }
        }
    </style>
</head>
<body>
    <nav class="site-nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <div class="nav-logo-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="100%" height="100%"><path d="M16 2L4 7v9c0 8 5 14 12 16 7-2 12-8 12-16V7L16 2z" fill="#0a1628" stroke="#4a6fa5" stroke-width="2"/><circle cx="16" cy="13" r="3.5" fill="none" stroke="#7ba3d4" stroke-width="2"/><rect x="14.5" y="15" width="3" height="5" rx="1" fill="#7ba3d4"/></svg></div>
                <span class="nav-logo-text">Cybersecurity Fundamentals</span>
            </a>
            <button class="nav-mobile-toggle" onclick="document.querySelector('.nav-links').classList.toggle('mobile-open')">☰</button>
            <div class="nav-links">
                <div class="nav-dropdown">
                    <button class="nav-dropdown-btn" onclick="toggleDropdown(this)">Networking <svg viewBox="0 0 10 6" fill="none"><path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg></button>
                    <div class="nav-dropdown-menu">
                        <a href="network-fundamentals.html" class="nav-dropdown-item current">
                            <div class="nav-dropdown-item-title">Network Fundamentals</div>
                            <div class="nav-dropdown-item-desc">IPs, ports, servers & clients</div>
                        </a>
                        <a href="protocols.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Protocol Reference</div>
                            <div class="nav-dropdown-item-desc">How services communicate</div>
                        </a>
                        <a href="ports.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Ports Reference</div>
                            <div class="nav-dropdown-item-desc">Common ports & red team quick ref</div>
                        </a>
                        <a href="osi-model.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">OSI Model</div>
                            <div class="nav-dropdown-item-desc">7-layer communication framework</div>
                        </a>
                        <a href="tcp-ip-model.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">TCP/IP Model</div>
                            <div class="nav-dropdown-item-desc">4-layer practical internet model</div>
                        </a>
                        <a href="arp.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">ARP Protocol</div>
                            <div class="nav-dropdown-item-desc">IP to MAC address resolution</div>
                        </a>
                        <a href="dns.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">DNS Lookup</div>
                            <div class="nav-dropdown-item-desc">Domain name resolution</div>
                        </a>
                        <a href="tcp-handshake.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">TCP Handshake</div>
                            <div class="nav-dropdown-item-desc">Three-way connection establishment</div>
                        </a>
                        <a href="vpn.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">VPN</div>
                            <div class="nav-dropdown-item-desc">Encrypted tunnels & privacy</div>
                        </a>
                        <a href="ssh.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">SSH</div>
                            <div class="nav-dropdown-item-desc">Secure remote access & key auth</div>
                        </a>
                    </div>
                </div>
                <div class="nav-dropdown">
                    <button class="nav-dropdown-btn" onclick="toggleDropdown(this)">Web <svg viewBox="0 0 10 6" fill="none"><path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg></button>
                    <div class="nav-dropdown-menu">
                        <a href="http.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">HTTP Protocol</div>
                            <div class="nav-dropdown-item-desc">Methods, status codes, headers</div>
                        </a>
                        <a href="cookies.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Cookies</div>
                            <div class="nav-dropdown-item-desc">Maintaining state on the web</div>
                        </a>
                    </div>
                </div>
                <div class="nav-dropdown">
                    <button class="nav-dropdown-btn" onclick="toggleDropdown(this)">Linux <svg viewBox="0 0 10 6" fill="none"><path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg></button>
                    <div class="nav-dropdown-menu">
                        <a href="linux.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Linux Command Line</div>
                            <div class="nav-dropdown-item-desc">Command line essentials</div>
                        </a>
                        <a href="linux-admin.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Packages & Logs</div>
                            <div class="nav-dropdown-item-desc">Software management & system logs</div>
                        </a>
                    </div>
                </div>
                <div class="nav-dropdown">
                    <button class="nav-dropdown-btn" onclick="toggleDropdown(this)">Windows <svg viewBox="0 0 10 6" fill="none"><path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg></button>
                    <div class="nav-dropdown-menu">
                        <a href="windows-essentials.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Windows Essentials</div>
                            <div class="nav-dropdown-item-desc">MSConfig, utilities & admin tools</div>
                        </a>
                        <a href="windows-cmd.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Windows Command Line (CMD)</div>
                            <div class="nav-dropdown-item-desc">CMD commands & terminal reference</div>
                        </a>
                        <a href="windows-powershell.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Windows PowerShell</div>
                            <div class="nav-dropdown-item-desc">PowerShell cmdlets & scripting</div>
                        </a>
                        <a href="windows-security.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Windows Security</div>
                            <div class="nav-dropdown-item-desc">Defender, firewall & device protection</div>
                        </a>
                    </div>
                </div>
                <div class="nav-dropdown">
                    <button class="nav-dropdown-btn" onclick="toggleDropdown(this)">Practical <svg viewBox="0 0 10 6" fill="none"><path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg></button>
                    <div class="nav-dropdown-menu">
                        <a href="ctf-methodology.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">CTF Methodology</div>
                            <div class="nav-dropdown-item-desc">Systematic approach to CTF challenges</div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="page">
        <div class="page-content">
            <header class="page-header">
                <h1 class="page-title">Network Fundamentals</h1>
                <p class="page-subtitle">The Building Analogy</p>
                
                <div class="nav-controls">
                    <button id="prevBtn" onclick="prevStep()" disabled>← PREV</button>
                    <div class="progress-dots" id="progressDots"></div>
                    <button id="nextBtn" onclick="nextStep()" class="primary">NEXT →</button>
                </div>
            </header>

            <div class="main-content">
                <div class="building-visualization">
                    <svg class="building-svg" viewBox="0 0 420 480">
                        <!-- Grid pattern background -->
                        <defs>
                            <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                                <path d="M 20 0 L 0 0 0 20" fill="none" stroke="rgba(74, 111, 165, 0.1)" stroke-width="0.5"/>
                            </pattern>
                        </defs>
                        <rect width="420" height="480" fill="url(#grid)"/>
                        
                        <!-- Step 1: Building -->
                        <g id="building" class="building-element hidden">
                            <!-- Building body -->
                            <rect x="100" y="140" width="220" height="260" class="building-fill" rx="4"/>
                            <rect x="100" y="140" width="220" height="260" class="building-outline" rx="4"/>
                            <!-- Roof -->
                            <path d="M 90 140 L 210 80 L 330 140" class="building-outline" fill="none"/>
                            <polygon points="90,140 210,80 330,140" fill="var(--surface-subtle)"/>
                            <!-- Windows (decorative) -->
                            <rect x="120" y="160" width="30" height="35" fill="var(--bg-primary)" stroke="var(--accent-primary)" stroke-width="1" rx="2"/>
                            <rect x="195" y="160" width="30" height="35" fill="var(--bg-primary)" stroke="var(--accent-primary)" stroke-width="1" rx="2"/>
                            <rect x="270" y="160" width="30" height="35" fill="var(--bg-primary)" stroke="var(--accent-primary)" stroke-width="1" rx="2"/>
                            <!-- Server label -->
                            <text x="210" y="420" class="server-label">SERVER</text>
                        </g>

                        <!-- Step 2: IP Address -->
                        <g id="ipAddress" class="building-element hidden">
                            <rect x="130" y="50" width="160" height="32" class="address-box"/>
                            <text x="210" y="72" class="address-label">142.250.80.46</text>
                        </g>

                        <!-- Step 3: Doors (Ports) -->
                        <g id="doors" class="building-element hidden">
                            <!-- Door 22 -->
                            <g id="door22">
                                <rect x="115" y="320" width="40" height="70" class="door" rx="3"/>
                                <text x="135" y="360" class="door-label">22</text>
                            </g>
                            <!-- Door 80 -->
                            <g id="door80">
                                <rect x="165" y="320" width="40" height="70" class="door" rx="3"/>
                                <text x="185" y="360" class="door-label">80</text>
                            </g>
                            <!-- Door 443 -->
                            <g id="door443">
                                <rect x="215" y="320" width="40" height="70" class="door" rx="3"/>
                                <text x="235" y="360" class="door-label">443</text>
                            </g>
                            <!-- Door 3389 -->
                            <g id="door3389">
                                <rect x="265" y="320" width="40" height="70" class="door" rx="3"/>
                                <text x="285" y="360" class="door-label">3389</text>
                            </g>
                        </g>

                        <!-- Step 4: Rooms/Services -->
                        <g id="rooms" class="building-element hidden">
                            <!-- SSH Room -->
                            <g id="room22">
                                <rect x="115" y="240" width="40" height="50" fill="var(--surface-subtle)" stroke="var(--border-subtle)" rx="2"/>
                                <!-- Terminal icon -->
                                <rect x="122" y="250" width="26" height="18" fill="none" stroke="var(--accent-light)" stroke-width="1.5" rx="2"/>
                                <text x="126" y="263" font-family="var(--font-mono)" font-size="8" fill="var(--accent-light)">_</text>
                                <text x="135" y="282" class="room-label">SSH</text>
                            </g>
                            <!-- HTTP Room -->
                            <g id="room80">
                                <rect x="165" y="240" width="40" height="50" fill="var(--surface-subtle)" stroke="var(--border-subtle)" rx="2"/>
                                <!-- Globe icon -->
                                <circle cx="185" cy="257" r="9" fill="none" stroke="var(--accent-light)" stroke-width="1.5"/>
                                <ellipse cx="185" cy="257" rx="4" ry="9" fill="none" stroke="var(--accent-light)" stroke-width="1"/>
                                <line x1="176" y1="257" x2="194" y2="257" stroke="var(--accent-light)" stroke-width="1"/>
                                <text x="185" y="282" class="room-label">HTTP</text>
                            </g>
                            <!-- HTTPS Room -->
                            <g id="room443">
                                <rect x="215" y="240" width="40" height="50" fill="var(--surface-subtle)" stroke="var(--border-subtle)" rx="2"/>
                                <!-- Lock + globe icon -->
                                <circle cx="230" cy="257" r="7" fill="none" stroke="var(--accent-light)" stroke-width="1.5"/>
                                <rect x="239" y="253" width="10" height="8" fill="var(--accent-light)" rx="1"/>
                                <path d="M 241 253 L 241 250 Q 241 246 244 246 Q 247 246 247 250 L 247 253" fill="none" stroke="var(--accent-light)" stroke-width="1.5"/>
                                <text x="235" y="282" class="room-label">HTTPS</text>
                            </g>
                            <!-- RDP Room -->
                            <g id="room3389">
                                <rect x="265" y="240" width="40" height="50" fill="var(--surface-subtle)" stroke="var(--border-subtle)" rx="2"/>
                                <!-- Desktop icon -->
                                <rect x="272" y="248" width="26" height="16" fill="none" stroke="var(--accent-light)" stroke-width="1.5" rx="2"/>
                                <line x1="285" y1="264" x2="285" y2="270" stroke="var(--accent-light)" stroke-width="1.5"/>
                                <line x1="278" y1="270" x2="292" y2="270" stroke="var(--accent-light)" stroke-width="1.5"/>
                                <text x="285" y="282" class="room-label">RDP</text>
                            </g>
                        </g>

                        <!-- Step 5: Client -->
                        <g id="client" class="building-element hidden">
                            <!-- Person with laptop -->
                            <g transform="translate(30, 340)">
                                <!-- Laptop base -->
                                <rect x="0" y="40" width="50" height="4" fill="var(--accent-primary)" rx="1"/>
                                <!-- Laptop screen -->
                                <rect x="5" y="15" width="40" height="25" class="client-body" stroke="var(--accent-light)" stroke-width="1.5" rx="2"/>
                                <!-- Screen content -->
                                <rect x="10" y="20" width="30" height="15" fill="var(--bg-primary)" rx="1"/>
                                <text x="25" y="31" font-family="var(--font-mono)" font-size="7" fill="var(--accent-light)" text-anchor="middle">YOU</text>
                                <!-- Person head -->
                                <circle cx="25" cy="0" r="10" fill="var(--surface-medium)" stroke="var(--accent-light)" stroke-width="1.5"/>
                            </g>
                            <text x="55" y="410" class="server-label">CLIENT</text>
                        </g>

                        <!-- Step 6: Connection -->
                        <g id="connection" class="building-element hidden">
                            <!-- Arrow from client to door 443 -->
                            <path d="M 80 360 Q 140 340 215 355" class="connection-line active"/>
                            <!-- Arrow head -->
                            <polygon points="215,355 205,350 205,360" fill="var(--accent-light)"/>
                            <!-- Highlight door 443 -->
                            <rect x="213" y="318" width="44" height="74" class="highlight-box" rx="4"/>
                        </g>

                        <!-- Step 7: Full Address -->
                        <g id="fullAddress" class="building-element hidden">
                            <rect x="100" y="440" width="220" height="36" fill="var(--surface-medium)" stroke="var(--accent-primary)" stroke-width="2" rx="6"/>
                            <text x="210" y="464" class="full-address">142.250.80.46:443</text>
                        </g>
                    </svg>
                </div>

                <div class="info-panel" id="infoPanel">
                    <div class="info-intro">
                        <p>Understanding networks is easier when you think of them like a city full of buildings. Each computer is a building with an address and multiple doors.</p>
                        <div class="analogy-box">Building = Server<br/>Address = IP<br/>Door = Port</div>
                        <p>Let's walk through this analogy step by step to understand how network connections work.</p>
                        <p class="hint">Press Next or use arrow keys to begin →</p>
                    </div>
                </div>
            </div>

            <!-- Reference Tables -->
            <section class="reference-section">
                <h2 class="reference-title">Quick Reference</h2>
                <div class="tables-grid">
                    <div class="reference-table">
                        <h3>Core Concepts</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Concept</th>
                                    <th>Definition</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>IP Address</td>
                                    <td>The unique address of a machine on a network</td>
                                </tr>
                                <tr>
                                    <td>Port</td>
                                    <td>A numbered door on that machine — each service listens on a specific port</td>
                                </tr>
                                <tr>
                                    <td>Server</td>
                                    <td>A machine (or program) waiting for requests</td>
                                </tr>
                                <tr>
                                    <td>Client</td>
                                    <td>A machine (or program) sending requests</td>
                                </tr>
                                <tr>
                                    <td>Service</td>
                                    <td>A program that does a specific job (web server, SSH, database)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <a href="protocols.html" class="reference-table" style="display: block; text-decoration: none; transition: all 0.2s;">
                        <h3 style="display: flex; align-items: center; justify-content: space-between;">
                            Protocol Reference
                            <span style="font-size: 0.7rem; color: var(--accent-light); font-weight: 400;">View full reference &rarr;</span>
                        </h3>
                        <div style="padding: 20px 18px; text-align: center;">
                            <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px;">How to connect to common services and what to try.</p>
                            <span style="font-family: var(--font-mono); font-size: 0.75rem; color: var(--accent-primary); padding: 8px 16px; border: 1px solid var(--accent-primary); border-radius: 4px; display: inline-block;">Protocols &rarr;</span>
                        </div>
                    </a>
                </div>
                <div class="tables-grid" style="margin-top: 16px;">
                    <a href="ports.html" class="reference-table" style="display: block; text-decoration: none; transition: all 0.2s;">
                        <h3 style="display: flex; align-items: center; justify-content: space-between;">
                            Ports Reference
                            <span style="font-size: 0.7rem; color: var(--accent-light); font-weight: 400;">View full reference &rarr;</span>
                        </h3>
                        <div style="padding: 20px 18px; text-align: center;">
                            <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px;">Port numbers, protocols, and services reference.</p>
                            <span style="font-family: var(--font-mono); font-size: 0.75rem; color: var(--accent-primary); padding: 8px 16px; border: 1px solid var(--accent-primary); border-radius: 4px; display: inline-block;">Ports &rarr;</span>
                        </div>
                    </a>
                </div>
            </section>

            <!-- Protocol Sections -->
            <div class="protocol-sections">

                <!-- DHCP Section -->
                <section class="protocol-section" id="dhcp">
                    <div class="protocol-header">
                        <h2 class="protocol-title">DHCP &mdash; Dynamic Host Configuration Protocol</h2>
                        <p class="protocol-oneliner">Automatically assigns IP addresses to devices when they join a network.</p>
                    </div>

                    <div class="problem-box">
                        <div class="problem-label">The Problem</div>
                        <p>When your device joins a network, it doesn't have an IP address yet. DHCP automates the assignment.</p>
                    </div>

                    <h3 class="section-subtitle">The DORA Process</h3>
                    <table class="process-table">
                        <thead>
                            <tr>
                                <th>Step</th>
                                <th>Name</th>
                                <th>What Happens</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="step-num">1</td>
                                <td class="step-name">Discover</td>
                                <td>Device broadcasts: "Any DHCP servers out there?"</td>
                            </tr>
                            <tr>
                                <td class="step-num">2</td>
                                <td class="step-name">Offer</td>
                                <td>Server responds: "I can give you 192.168.1.50"</td>
                            </tr>
                            <tr>
                                <td class="step-num">3</td>
                                <td class="step-name">Request</td>
                                <td>Device: "Yes, I'll take that one"</td>
                            </tr>
                            <tr>
                                <td class="step-num">4</td>
                                <td class="step-name">Acknowledge</td>
                                <td>Server: "Done. It's yours for 24 hours"</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="section-subtitle">Key Points</h3>
                    <ul class="key-points">
                        <li>Uses UDP ports 67 (server) and 68 (client)</li>
                        <li>Leases expire &mdash; devices must renew periodically</li>
                        <li>Also provides: subnet mask, default gateway, DNS servers</li>
                    </ul>
                </section>

                <!-- ARP Section -->
                <section class="protocol-section" id="arp">
                    <div class="protocol-header">
                        <h2 class="protocol-title">ARP &mdash; Address Resolution Protocol</h2>
                        <p class="protocol-oneliner">Translates IP addresses to MAC addresses for local delivery.</p>
                    </div>

                    <div class="problem-box">
                        <div class="problem-label">The Problem</div>
                        <p>You know a device's IP, but your network card needs the MAC address to actually send data on the local network.</p>
                    </div>

                    <h3 class="section-subtitle">How ARP Works</h3>
                    <table class="process-table">
                        <thead>
                            <tr>
                                <th>Step</th>
                                <th>What Happens</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="step-num">1</td>
                                <td>Your device broadcasts: "Who has 192.168.1.50? Tell me your MAC"</td>
                            </tr>
                            <tr>
                                <td class="step-num">2</td>
                                <td>Device with that IP responds: "That's me &mdash; my MAC is aa:bb:cc:dd:ee:ff"</td>
                            </tr>
                            <tr>
                                <td class="step-num">3</td>
                                <td>Your device caches this in its ARP table</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="section-subtitle">Key Points</h3>
                    <ul class="key-points">
                        <li>Layer 2 protocol (works with MACs)</li>
                        <li>Bridges Layer 3 (IP) to Layer 2 (MAC)</li>
                        <li>Only for local network &mdash; to reach remote IPs, ARP finds your router's MAC</li>
                        <li>ARP cache expires after minutes to stay fresh</li>
                    </ul>

                    <div class="command-box">
                        <div class="command-label">View ARP Cache</div>
                        <code class="command-code">arp -a</code>
                        <p class="command-note">Works on Linux, Mac, and Windows</p>
                    </div>

                    <div class="security-callout">
                        <div class="security-callout-header">
                            <span class="security-callout-icon">&#9888;</span>
                            <span class="security-callout-title">Red Team Note</span>
                        </div>
                        <p><strong>ARP has no authentication.</strong> Attackers can respond to ARP requests with fake information &mdash; this is ARP spoofing, used for man-in-the-middle attacks on local networks.</p>
                    </div>

                    <a href="arp.html" class="cross-ref">
                        See full ARP Protocol breakdown &rarr;
                    </a>
                </section>

                <!-- NAT Section -->
                <section class="protocol-section" id="nat">
                    <div class="protocol-header">
                        <h2 class="protocol-title">NAT &mdash; Network Address Translation</h2>
                        <p class="protocol-oneliner">Allows multiple devices to share one public IP address.</p>
                    </div>

                    <div class="problem-box">
                        <div class="problem-label">The Problem</div>
                        <p>There aren't enough public IPs for every device. Your home might have 10 devices but only one public IP from your ISP.</p>
                    </div>

                    <h3 class="section-subtitle">How NAT Works</h3>
                    <table class="process-table">
                        <thead>
                            <tr>
                                <th>Step</th>
                                <th>What Happens</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="step-num">1</td>
                                <td>Device (192.168.1.50) sends request to internet</td>
                            </tr>
                            <tr>
                                <td class="step-num">2</td>
                                <td>Router rewrites source IP to public IP (203.45.67.89)</td>
                            </tr>
                            <tr>
                                <td class="step-num">3</td>
                                <td>Router tracks: "Port 52847 belongs to 192.168.1.50"</td>
                            </tr>
                            <tr>
                                <td class="step-num">4</td>
                                <td>Response comes back to public IP</td>
                            </tr>
                            <tr>
                                <td class="step-num">5</td>
                                <td>Router looks up its table, forwards to correct internal device</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="visual-diagram">
                        <div class="visual-diagram-content">
                            <span class="visual-box">Phone<br><small>192.168.1.50:52847</small></span>
                            <span class="visual-arrow">&rarr;</span>
                            <span class="visual-box highlight">Router (NAT)</span>
                            <span class="visual-arrow">&rarr;</span>
                            <span class="visual-box">203.45.67.89:52847</span>
                            <span class="visual-arrow">&rarr;</span>
                            <span class="visual-box">Internet</span>
                        </div>
                    </div>

                    <h3 class="section-subtitle">Key Points</h3>
                    <ul class="key-points">
                        <li>All devices on your network appear as one IP externally</li>
                        <li>Hides internal network structure from the outside</li>
                        <li>Router tracks connections using <a href="ports.html" style="color: var(--accent-light);">source ports</a></li>
                        <li>~65,000 simultaneous connections possible (limited by port numbers)</li>
                    </ul>

                    <div class="security-callout info">
                        <div class="security-callout-header">
                            <span class="security-callout-icon">&#128274;</span>
                            <span class="security-callout-title">Security Note</span>
                        </div>
                        <p><strong>NAT provides basic protection</strong> &mdash; external attackers can't directly reach internal IPs. But it's not a firewall. Outbound connections and port forwarding bypass this.</p>
                    </div>
                </section>

            </div>

            <!-- Glossary -->
            <section class="glossary-section">
                <details class="glossary-toggle">
                    <summary>Glossary &mdash; Key terms used on this page</summary>
                    <div class="glossary-content">
                        <table class="glossary-table">
                            <thead>
                                <tr>
                                    <th>Term</th>
                                    <th>What It Is</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="term-cell">DHCP</td>
                                    <td>Dynamic Host Configuration Protocol &mdash; automatically assigns IP addresses to devices joining a network</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">ARP</td>
                                    <td>Address Resolution Protocol &mdash; translates IP addresses to MAC addresses for local network delivery</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">NAT</td>
                                    <td>Network Address Translation &mdash; allows multiple devices to share one public IP address</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">MAC address</td>
                                    <td>Media Access Control address &mdash; unique hardware identifier for a network interface</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">IP address</td>
                                    <td>Internet Protocol address &mdash; unique identifier for a device on a network</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">Subnet mask</td>
                                    <td>Defines which part of an IP is the network vs. the device</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">Default gateway</td>
                                    <td>The router that handles traffic going outside your local network</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">Broadcast</td>
                                    <td>Sending data to all devices on a network at once</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">Lease</td>
                                    <td>The temporary assignment of an IP address &mdash; expires and must be renewed</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">ARP cache</td>
                                    <td>Local table storing recently learned IP-to-MAC mappings</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">ARP spoofing</td>
                                    <td>Attack where an attacker sends fake ARP responses to redirect traffic through their machine</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">Public IP</td>
                                    <td>An IP address routable on the internet &mdash; visible to the outside world</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">Private IP</td>
                                    <td>An IP address only used inside a local network &mdash; not routable on the internet</td>
                                </tr>
                                <tr>
                                    <td class="term-cell">Port forwarding</td>
                                    <td>Configuring a router to send incoming traffic on a specific port to a specific internal device</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </details>
            </section>

        </div>
    </div>

    <script>
        const infoPanel = document.getElementById('infoPanel');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progressDots = document.getElementById('progressDots');
        
        let currentStep = -1;
        const totalSteps = 7;

        // Create progress dots
        for (let i = 0; i < totalSteps; i++) {
            const dot = document.createElement('div');
            dot.className = 'progress-dot';
            dot.onclick = () => goToStep(i);
            dot.style.cursor = 'pointer';
            progressDots.appendChild(dot);
        }

        const steps = [
            {
                icon: '🏢',
                title: 'The Building',
                phase: 'Step 1 of 7',
                highlight: 'This building is a SERVER — a machine waiting to receive requests.',
                description: 'Think of a server as a building in a city. Just like how buildings provide spaces for different businesses, a server is a computer that hosts various services and waits for other computers to connect to it. Web servers, email servers, game servers — they\'re all "buildings" on the internet.',
                concepts: ['Server', 'Host', 'Machine', 'Computer'],
                elements: ['building']
            },
            {
                icon: '📍',
                title: 'The Address',
                phase: 'Step 2 of 7',
                highlight: 'The IP ADDRESS is the building\'s location — how you find it on the network.',
                description: 'Every building has a street address so you can find it. Similarly, every device on a network has an IP (Internet Protocol) address. When you want to connect to a server, you need its IP address. For example, 142.250.80.46 is one of Google\'s IP addresses.',
                concepts: ['IP Address', 'IPv4', 'IPv6', 'Network Address'],
                elements: ['building', 'ipAddress']
            },
            {
                icon: '🚪',
                title: 'The Doors',
                phase: 'Step 3 of 7',
                highlight: 'PORTS are numbered doors — each one leads to a different service inside.',
                description: 'A building has multiple doors for different purposes: one for the lobby, one for deliveries, one for emergencies. Similarly, a server has numbered ports (0-65535). Each port is an entry point for a specific type of traffic. Port 80 is for web traffic, port 22 is for SSH, and so on.',
                concepts: ['Port', 'Port Number', 'TCP/UDP', 'Entry Point'],
                elements: ['building', 'ipAddress', 'doors']
            },
            {
                icon: '🏠',
                title: 'The Rooms',
                phase: 'Step 4 of 7',
                highlight: 'SERVICES are what\'s running inside each room — programs that do specific jobs.',
                description: 'Behind each door is a room where a specific service runs. SSH (port 22) gives you terminal access. HTTP (port 80) serves web pages. HTTPS (port 443) serves secure web pages. RDP (port 3389) provides remote desktop access. Each service is a program designed for a specific purpose.',
                concepts: ['Service', 'Daemon', 'Process', 'Application'],
                elements: ['building', 'ipAddress', 'doors', 'rooms']
            },
            {
                icon: '💻',
                title: 'The Visitor',
                phase: 'Step 5 of 7',
                highlight: 'A CLIENT is you — the device or program making a request.',
                description: 'You are the visitor approaching the building. Your computer (or phone, or any device) is the client. When you open a web browser, it becomes a client that can visit server buildings. The client initiates the conversation by knocking on a specific door.',
                concepts: ['Client', 'Browser', 'Request', 'User Agent'],
                elements: ['building', 'ipAddress', 'doors', 'rooms', 'client']
            },
            {
                icon: '🔗',
                title: 'The Full Picture',
                phase: 'Step 6 of 7',
                highlight: 'When you visit https://google.com, your browser (client) goes to Google\'s IP address (building) and knocks on port 443 (door) where the HTTPS service is listening.',
                description: 'Now it all comes together. Your browser looks up google.com, gets the IP address, and connects to port 443 (HTTPS). The web server behind that door responds with the webpage. This happens every time you visit any website — your client finds the building, chooses the right door, and talks to the service inside.',
                concepts: ['Connection', 'Request/Response', 'HTTPS', 'Web Traffic'],
                elements: ['building', 'ipAddress', 'doors', 'rooms', 'client', 'connection']
            },
            {
                icon: '🎯',
                title: 'The Address Format',
                phase: 'Step 7 of 7',
                highlight: 'The full address is IP:PORT — the building address plus which door to enter.',
                description: 'Just like a complete address includes a street number AND an apartment number, a network connection needs both IP and PORT. You\'ll see this written as 142.250.80.46:443 — the IP address, a colon, then the port number. This tells your computer exactly where to go and which door to knock on.',
                concepts: ['IP:PORT', 'Socket', 'Endpoint', 'Address Format'],
                elements: ['building', 'ipAddress', 'doors', 'rooms', 'client', 'connection', 'fullAddress']
            }
        ];

        function updateUI() {
            // Update progress dots
            document.querySelectorAll('.progress-dot').forEach((dot, i) => {
                dot.classList.remove('active', 'visited');
                if (i === currentStep) dot.classList.add('active');
                else if (i < currentStep) dot.classList.add('visited');
            });

            // Update buttons
            prevBtn.disabled = currentStep <= 0;
            nextBtn.textContent = currentStep >= totalSteps - 1 ? 'RESTART' : 'NEXT →';

            // Hide all elements first
            document.querySelectorAll('.building-element').forEach(el => {
                el.classList.remove('active');
                el.classList.add('hidden');
            });

            // Reset door highlights
            document.querySelectorAll('.door').forEach(d => d.classList.remove('active'));

            if (currentStep >= 0) {
                const step = steps[currentStep];
                
                // Show relevant elements
                step.elements.forEach(elId => {
                    const el = document.getElementById(elId);
                    if (el) {
                        el.classList.remove('hidden');
                        el.classList.add('active');
                    }
                });

                // Highlight door 443 on step 6
                if (currentStep >= 5) {
                    document.querySelector('#door443 .door')?.classList.add('active');
                }

                // Update info panel
                infoPanel.innerHTML = `
                    <div class="info-header">
                        <div class="info-icon">${step.icon}</div>
                        <div>
                            <div class="info-title">${step.title}</div>
                            <div class="info-phase">${step.phase}</div>
                        </div>
                    </div>
                    <div class="info-highlight">${step.highlight}</div>
                    <p class="info-description">${step.description}</p>
                    <div class="info-concepts">
                        <div class="info-concepts-title">Related Concepts</div>
                        ${step.concepts.map(c => `<span class="concept-tag">${c}</span>`).join('')}
                    </div>
                `;
            } else {
                // Show intro
                infoPanel.innerHTML = `
                    <div class="info-intro">
                        <p>Understanding networks is easier when you think of them like a city full of buildings. Each computer is a building with an address and multiple doors.</p>
                        <div class="analogy-box">Building = Server<br/>Address = IP<br/>Door = Port</div>
                        <p>Let's walk through this analogy step by step to understand how network connections work.</p>
                        <p class="hint">Press Next or use arrow keys to begin →</p>
                    </div>
                `;
            }
        }

        function goToStep(step) {
            currentStep = Math.max(-1, Math.min(totalSteps - 1, step));
            updateUI();
        }

        function nextStep() {
            if (currentStep >= totalSteps - 1) {
                currentStep = -1;
            } else {
                currentStep++;
            }
            updateUI();
        }

        function prevStep() {
            if (currentStep > 0) {
                currentStep--;
                updateUI();
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextStep();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                prevStep();
            }
        });

        // Initialize
        updateUI();
    </script>
    <script>
        function toggleDropdown(btn) {
            const dropdown = btn.parentElement;
            const wasOpen = dropdown.classList.contains('open');
            document.querySelectorAll('.nav-dropdown').forEach(d => d.classList.remove('open'));
            if (!wasOpen) dropdown.classList.add('open');
        }
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.nav-dropdown')) {
                document.querySelectorAll('.nav-dropdown').forEach(d => d.classList.remove('open'));
            }
        });
    </script>
</body>
</html>

