<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cpath d='M16 2L4 7v9c0 8 5 14 12 16 7-2 12-8 12-16V7L16 2z' fill='%230a1628' stroke='%234a6fa5' stroke-width='2'/%3E%3Ccircle cx='16' cy='13' r='3.5' fill='none' stroke='%237ba3d4' stroke-width='2'/%3E%3Crect x='14.5' y='15' width='3' height='5' rx='1' fill='%237ba3d4'/%3E%3C/svg%3E">
    <title>VPN - Cybersecurity Fundamentals</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --bg-primary: #0a1628;
            --bg-secondary: #0d1c30;
            --accent-primary: #4a6fa5;
            --accent-light: #7ba3d4;
            --accent-glow: rgba(74, 111, 165, 0.4);
            --text-primary: #e8f0f8;
            --text-secondary: #c4d4e8;
            --text-muted: #a8b8c8;
            --text-dim: #3a4a5a;
            --border-subtle: rgba(74, 111, 165, 0.2);
            --surface-subtle: rgba(74, 111, 165, 0.08);
            --surface-medium: rgba(74, 111, 165, 0.15);
            --surface-active: rgba(74, 111, 165, 0.25);
            --font-mono: 'DM Mono', monospace;
            --font-sans: 'DM Sans', system-ui, sans-serif;
            --vpn-green: #4ade80;
            --vpn-green-glow: rgba(74, 222, 128, 0.25);
            --danger-red: #f87171;
            --danger-glow: rgba(248, 113, 113, 0.25);
        }

        body { font-family: var(--font-sans); background: var(--bg-primary); color: var(--text-secondary); min-height: 100vh; line-height: 1.6; }

        /* Navigation */
        .site-nav { position: fixed; top: 0; left: 0; right: 0; z-index: 100; background: rgba(10, 22, 40, 0.9); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border-subtle); }
        .nav-container { max-width: 1200px; margin: 0 auto; padding: 0 24px; display: flex; align-items: center; justify-content: space-between; height: 60px; }
        .nav-logo { display: flex; align-items: center; gap: 12px; text-decoration: none; color: var(--text-primary); }
        .nav-logo-icon { width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; }
        .nav-logo-text { font-weight: 500; font-size: 0.95rem; letter-spacing: 0.5px; }
        .nav-links { display: flex; align-items: center; gap: 6px; }
        .nav-dropdown { position: relative; }
        .nav-dropdown-btn { font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted); background: none; border: 1px solid transparent; padding: 8px 14px; border-radius: 4px; cursor: pointer; display: flex; align-items: center; gap: 6px; transition: all 0.2s; letter-spacing: 0.5px; }
        .nav-dropdown-btn:hover, .nav-dropdown.open .nav-dropdown-btn { color: var(--text-primary); background: var(--surface-subtle); border-color: var(--border-subtle); }
        .nav-dropdown-btn svg { width: 10px; height: 10px; transition: transform 0.2s; }
        .nav-dropdown.open .nav-dropdown-btn svg { transform: rotate(180deg); }
        .nav-dropdown-menu { position: absolute; top: calc(100% + 8px); left: 0; background: rgba(13, 28, 48, 0.98); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 8px; min-width: 240px; opacity: 0; visibility: hidden; transform: translateY(-8px); transition: all 0.2s; box-shadow: 0 16px 48px rgba(0, 0, 0, 0.5); backdrop-filter: blur(12px); }
        .nav-dropdown.open .nav-dropdown-menu { opacity: 1; visibility: visible; transform: translateY(0); }
        .nav-dropdown-item { display: block; padding: 10px 14px; color: var(--text-secondary); text-decoration: none; border-radius: 6px; transition: all 0.15s; }
        .nav-dropdown-item:hover { background: var(--surface-medium); color: var(--text-primary); }
        .nav-dropdown-item.current .nav-dropdown-item-title { color: var(--accent-light); }
        .nav-dropdown-item-title { font-size: 0.85rem; font-weight: 500; margin-bottom: 2px; }
        .nav-dropdown-item-desc { font-family: var(--font-mono); font-size: 0.65rem; color: var(--text-muted); }
        .nav-mobile-toggle { display: none; background: none; border: 1px solid var(--border-subtle); color: var(--text-muted); padding: 6px 10px; border-radius: 4px; cursor: pointer; font-family: var(--font-mono); font-size: 0.8rem; }
        @media (max-width: 640px) {
            .nav-links { display: none; position: absolute; top: 60px; left: 0; right: 0; background: rgba(10, 22, 40, 0.98); border-bottom: 1px solid var(--border-subtle); padding: 12px; flex-direction: column; gap: 4px; backdrop-filter: blur(12px); }
            .nav-links.mobile-open { display: flex; }
            .nav-mobile-toggle { display: block; }
            .nav-dropdown { width: 100%; }
            .nav-dropdown-btn { width: 100%; }
            .nav-dropdown-menu { position: static; opacity: 1; visibility: visible; transform: none; box-shadow: none; border: none; background: var(--surface-subtle); border-radius: 8px; display: none; margin-top: 4px; min-width: auto; }
            .nav-dropdown.open .nav-dropdown-menu { display: block; }
        }

        .page { padding-top: 60px; min-height: 100vh; display: flex; flex-direction: column; }
        .page-content { flex: 1; display: flex; flex-direction: column; align-items: center; padding: 40px 20px; }
        .page-header { text-align: center; margin-bottom: 24px; }
        .page-title { color: var(--text-primary); font-size: 1.3rem; font-weight: 500; letter-spacing: 1px; margin-bottom: 8px; }
        .page-subtitle { color: var(--accent-primary); font-family: var(--font-mono); font-size: 0.7rem; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 16px; }
        .page-intro { color: var(--text-muted); font-size: 0.9rem; max-width: 580px; margin: 0 auto; line-height: 1.7; }
        .page-intro strong { color: var(--text-secondary); }

        .nav-controls { display: flex; gap: 12px; margin-top: 24px; align-items: center; justify-content: center; }
        button { font-family: var(--font-mono); background: transparent; color: var(--text-secondary); border: 1px solid var(--accent-primary); padding: 10px 24px; border-radius: 4px; cursor: pointer; font-size: 0.75rem; font-weight: 500; letter-spacing: 0.5px; transition: all 0.2s; }
        button:hover { background: var(--surface-medium); border-color: var(--accent-light); }
        button:disabled { color: var(--text-dim); border-color: #2a3a4a; cursor: not-allowed; }
        button:disabled:hover { background: transparent; }
        button.primary { background: var(--surface-medium); }
        .progress-dots { display: flex; gap: 4px; }
        .progress-dot { width: 6px; height: 6px; border-radius: 50%; background: rgba(74, 111, 165, 0.3); transition: all 0.3s; }
        .progress-dot.active { background: var(--accent-primary); }
        .progress-dot.visited { background: rgba(74, 111, 165, 0.6); }

        .main-content { display: flex; gap: 40px; align-items: flex-start; margin-top: 20px; width: 100%; max-width: 1000px; }

        /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Two-row visualization ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .vpn-vis { width: 540px; min-width: 540px; }

        .vis-row { display: flex; align-items: center; gap: 0; padding: 28px 16px 20px; border-radius: 12px; border: 1px solid var(--border-subtle); background: var(--surface-subtle); margin-bottom: 16px; position: relative; transition: all 0.4s; }
        .vis-row.dim { opacity: 0.2; border-color: transparent; }
        .vis-row-label { position: absolute; top: -10px; left: 16px; font-family: var(--font-mono); font-size: 0.6rem; text-transform: uppercase; letter-spacing: 1.5px; padding: 2px 10px; border-radius: 4px; background: var(--bg-primary); }
        .vis-row-label.danger { color: var(--danger-red); border: 1px solid rgba(248, 113, 113, 0.3); }
        .vis-row-label.safe { color: var(--vpn-green); border: 1px solid rgba(74, 222, 128, 0.3); }

        .vnode { text-align: center; width: 110px; flex-shrink: 0; }
        .vnode-box { padding: 14px 8px; background: rgba(10, 22, 40, 0.6); border: 1px solid transparent; border-radius: 10px; transition: all 0.4s; }
        .vnode-box.active { border-color: var(--accent-primary); box-shadow: 0 0 20px var(--accent-glow); }
        .vnode-box.danger { background: rgba(248, 113, 113, 0.06); border-color: var(--danger-red); box-shadow: 0 0 20px var(--danger-glow); }
        .vnode-box.safe { background: rgba(74, 222, 128, 0.06); border-color: var(--vpn-green); box-shadow: 0 0 20px var(--vpn-green-glow); }
        .vnode-icon { font-size: 1.5rem; margin-bottom: 4px; }
        .vnode-label { font-family: var(--font-mono); font-size: 0.5rem; color: var(--accent-primary); text-transform: uppercase; letter-spacing: 1px; }
        .vnode-title { font-weight: 500; font-size: 0.8rem; color: var(--text-primary); }

        .varrow { flex: 1; display: flex; flex-direction: column; align-items: center; gap: 6px; padding: 0 4px; }
        .varrow-line { width: 100%; height: 2px; background: var(--border-subtle); position: relative; transition: all 0.4s; }
        .varrow-line::after { content: ''; position: absolute; right: -1px; top: -4px; border: 5px solid transparent; border-left-color: var(--border-subtle); transition: all 0.4s; }
        .varrow-line.danger { background: var(--danger-red); }
        .varrow-line.danger::after { border-left-color: var(--danger-red); }
        .varrow-line.safe { background: var(--vpn-green); }
        .varrow-line.safe::after { border-left-color: var(--vpn-green); }
        .varrow-tag { font-family: var(--font-mono); font-size: 0.55rem; padding: 2px 7px; border-radius: 3px; opacity: 0; transition: all 0.3s; white-space: nowrap; }
        .varrow-tag.visible { opacity: 1; }
        .varrow-tag.exposed { background: rgba(248, 113, 113, 0.12); color: var(--danger-red); border: 1px solid rgba(248, 113, 113, 0.25); }
        .varrow-tag.encrypted { background: rgba(74, 222, 128, 0.12); color: var(--vpn-green); border: 1px solid rgba(74, 222, 128, 0.25); }

        /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Info Panel ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .info-panel { flex: 1; min-width: 0; }
        .info-header { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; padding-bottom: 16px; border-bottom: 1px solid var(--border-subtle); }
        .info-icon { font-size: 1.5rem; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border: 1px solid var(--accent-primary); border-radius: 4px; flex-shrink: 0; }
        .info-step { font-family: var(--font-mono); font-size: 0.65rem; color: var(--accent-primary); text-transform: uppercase; letter-spacing: 1px; }
        .info-title { font-size: 1.05rem; font-weight: 500; color: var(--text-primary); }
        .info-action { font-family: var(--font-mono); font-size: 0.8rem; color: var(--accent-light); margin-bottom: 16px; padding: 10px 14px; background: var(--surface-subtle); border-radius: 4px; border-left: 2px solid var(--accent-primary); }
        .info-description { font-size: 0.9rem; line-height: 1.7; color: var(--text-muted); margin-bottom: 20px; }
        .info-comparison { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
        .comparison-card { padding: 14px; border-radius: 8px; font-size: 0.8rem; line-height: 1.6; }
        .comparison-card.without { background: rgba(248, 113, 113, 0.06); border: 1px solid rgba(248, 113, 113, 0.15); }
        .comparison-card.with { background: rgba(74, 222, 128, 0.06); border: 1px solid rgba(74, 222, 128, 0.15); }
        .comparison-card-title { font-family: var(--font-mono); font-size: 0.6rem; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }
        .comparison-card.without .comparison-card-title { color: var(--danger-red); }
        .comparison-card.with .comparison-card-title { color: var(--vpn-green); }
        .comparison-card p { color: var(--text-muted); }
        .info-concepts { margin-top: 20px; }
        .info-concepts-title { font-family: var(--font-mono); font-size: 0.65rem; color: var(--accent-primary); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px; }
        .concept-tag { display: inline-block; font-family: var(--font-mono); font-size: 0.7rem; color: var(--text-secondary); padding: 6px 12px; background: var(--surface-medium); border-radius: 4px; margin: 0 6px 8px 0; }

        .info-intro p { font-size: 0.9rem; line-height: 1.7; color: var(--text-muted); margin-bottom: 16px; }
        .info-intro .hint { font-family: var(--font-mono); font-size: 0.75rem; color: var(--accent-primary); }
        .analogy-box { background: var(--surface-subtle); border-radius: 8px; padding: 16px; margin: 0 0 20px; }
        .analogy-box-title { font-family: var(--font-mono); font-size: 0.65rem; color: var(--vpn-green); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }
        .analogy-box p { margin-bottom: 8px; font-size: 0.85rem; color: var(--text-muted); }
        .analogy-box p:last-child { margin-bottom: 0; }

        @media (max-width: 960px) {
            .main-content { flex-direction: column; align-items: center; }
            .vpn-vis { min-width: 0; width: 100%; max-width: 540px; }
            .info-panel { width: 100%; max-width: 480px; }
        }
    </style>
</head>
<body>
    <nav class="site-nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <div class="nav-logo-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="100%" height="100%"><path d="M16 2L4 7v9c0 8 5 14 12 16 7-2 12-8 12-16V7L16 2z" fill="#0a1628" stroke="#4a6fa5" stroke-width="2"/><circle cx="16" cy="13" r="3.5" fill="none" stroke="#7ba3d4" stroke-width="2"/><rect x="14.5" y="15" width="3" height="5" rx="1" fill="#7ba3d4"/></svg></div>
                <span class="nav-logo-text">Cybersecurity Fundamentals</span>
            </a>
            <button class="nav-mobile-toggle" onclick="document.querySelector('.nav-links').classList.toggle('mobile-open')">‚ò∞</button>
            <div class="nav-links">
                <div class="nav-dropdown">
                    <button class="nav-dropdown-btn" onclick="toggleDropdown(this)">Networking <svg viewBox="0 0 10 6" fill="none"><path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg></button>
                    <div class="nav-dropdown-menu">
                        <a href="network-fundamentals.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Network Fundamentals</div>
                            <div class="nav-dropdown-item-desc">IPs, ports, servers & clients</div>
                        </a>
                        <a href="osi-model.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">OSI Model</div>
                            <div class="nav-dropdown-item-desc">7-layer communication framework</div>
                        </a>
                        <a href="tcp-ip-model.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">TCP/IP Model</div>
                            <div class="nav-dropdown-item-desc">4-layer practical internet model</div>
                        </a>
                        <a href="dns.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">DNS Lookup</div>
                            <div class="nav-dropdown-item-desc">Domain name resolution</div>
                        </a>
                        <a href="tcp-handshake.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">TCP Handshake</div>
                            <div class="nav-dropdown-item-desc">Three-way connection establishment</div>
                        </a>
                        <a href="vpn.html" class="nav-dropdown-item current">
                            <div class="nav-dropdown-item-title">VPN</div>
                            <div class="nav-dropdown-item-desc">Encrypted tunnels & privacy</div>
                        </a>
                        <a href="ssh.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">SSH</div>
                            <div class="nav-dropdown-item-desc">Secure remote access & key auth</div>
                        </a>
                    </div>
                </div>
                <div class="nav-dropdown">
                    <button class="nav-dropdown-btn" onclick="toggleDropdown(this)">Web <svg viewBox="0 0 10 6" fill="none"><path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg></button>
                    <div class="nav-dropdown-menu">
                        <a href="http.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">HTTP Protocol</div>
                            <div class="nav-dropdown-item-desc">Methods, status codes, headers</div>
                        </a>
                        <a href="cookies.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Cookies</div>
                            <div class="nav-dropdown-item-desc">Maintaining state on the web</div>
                        </a>
                    </div>
                </div>
                <div class="nav-dropdown">
                    <button class="nav-dropdown-btn" onclick="toggleDropdown(this)">Linux <svg viewBox="0 0 10 6" fill="none"><path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg></button>
                    <div class="nav-dropdown-menu">
                        <a href="linux.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Linux Fundamentals</div>
                            <div class="nav-dropdown-item-desc">Command line essentials</div>
                        </a>
                        <a href="linux-admin.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Packages & Logs</div>
                            <div class="nav-dropdown-item-desc">Software management & system logs</div>
                        </a>
                    </div>
                </div>
                <div class="nav-dropdown">
                    <button class="nav-dropdown-btn" onclick="toggleDropdown(this)">Windows <svg viewBox="0 0 10 6" fill="none"><path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg></button>
                    <div class="nav-dropdown-menu">
                        <a href="windows-essentials.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Windows Essentials</div>
                            <div class="nav-dropdown-item-desc">File system, utilities & command line</div>
                        </a>
                        <a href="windows-security.html" class="nav-dropdown-item">
                            <div class="nav-dropdown-item-title">Windows Security</div>
                            <div class="nav-dropdown-item-desc">Defender, firewall & device protection</div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="page">
        <div class="page-content">
            <header class="page-header">
                <h1 class="page-title">Virtual Private Networks</h1>
                <p class="page-subtitle">Encrypted Tunnels & Online Privacy</p>
                <p class="page-intro">A <strong>VPN</strong> creates an encrypted tunnel between your device and a VPN server, hiding your traffic from your ISP and masking your IP address from the websites you visit.</p>
                <div class="nav-controls">
                    <button id="prevBtn" onclick="prevStep()" disabled>‚Üê PREV</button>
                    <div class="progress-dots" id="progressDots"></div>
                    <button id="nextBtn" onclick="nextStep()" class="primary">NEXT ‚Üí</button>
                </div>
            </header>

            <div class="main-content">
                <div class="vpn-vis">
                    <!-- Row 1: Without VPN path -->
                    <div class="vis-row" id="rowWithout">
                        <span class="vis-row-label danger">Without VPN</span>
                        <div class="vnode">
                            <div class="vnode-box" id="n-you1">
                                <div class="vnode-icon">üíª</div>
                                <div class="vnode-label">Your</div>
                                <div class="vnode-title">Device</div>
                            </div>
                        </div>
                        <div class="varrow">
                            <div class="varrow-tag" id="tag-a1"></div>
                            <div class="varrow-line" id="arrow-a1"></div>
                        </div>
                        <div class="vnode">
                            <div class="vnode-box" id="n-isp">
                                <div class="vnode-icon">üè¢</div>
                                <div class="vnode-label">Your</div>
                                <div class="vnode-title">ISP</div>
                            </div>
                        </div>
                        <div class="varrow">
                            <div class="varrow-tag" id="tag-a2"></div>
                            <div class="varrow-line" id="arrow-a2"></div>
                        </div>
                        <div class="vnode">
                            <div class="vnode-box" id="n-web1">
                                <div class="vnode-icon">üñ•Ô∏è</div>
                                <div class="vnode-label">Destination</div>
                                <div class="vnode-title">Website</div>
                            </div>
                        </div>
                    </div>

                    <!-- Row 2: With VPN path -->
                    <div class="vis-row" id="rowWith">
                        <span class="vis-row-label safe">With VPN</span>
                        <div class="vnode">
                            <div class="vnode-box" id="n-you2">
                                <div class="vnode-icon">üíª</div>
                                <div class="vnode-label">Your</div>
                                <div class="vnode-title">Device</div>
                            </div>
                        </div>
                        <div class="varrow">
                            <div class="varrow-tag" id="tag-b1"></div>
                            <div class="varrow-line" id="arrow-b1"></div>
                        </div>
                        <div class="vnode">
                            <div class="vnode-box" id="n-vpn">
                                <div class="vnode-icon">üõ°Ô∏è</div>
                                <div class="vnode-label">VPN</div>
                                <div class="vnode-title">Server</div>
                            </div>
                        </div>
                        <div class="varrow">
                            <div class="varrow-tag" id="tag-b2"></div>
                            <div class="varrow-line" id="arrow-b2"></div>
                        </div>
                        <div class="vnode">
                            <div class="vnode-box" id="n-web2">
                                <div class="vnode-icon">üñ•Ô∏è</div>
                                <div class="vnode-label">Destination</div>
                                <div class="vnode-title">Website</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-panel" id="infoPanel">
                    <div class="info-intro">
                        <div class="analogy-box">
                            <div class="analogy-box-title">üõ°Ô∏è What is a VPN?</div>
                            <p>Think of it like sending mail. Normally, your ISP is the postal worker ‚Äî they can read the address and the contents. A VPN is like putting your letter inside a locked box that only opens at the VPN server, which then forwards it for you.</p>
                            <p>The website only sees the VPN server's address, not yours.</p>
                        </div>
                        <p class="hint">Click Next to compare traffic with and without a VPN ‚Üí</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleDropdown(btn) {
            const dropdown = btn.parentElement;
            const wasOpen = dropdown.classList.contains('open');
            document.querySelectorAll('.nav-dropdown').forEach(d => d.classList.remove('open'));
            if (!wasOpen) dropdown.classList.add('open');
        }
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.nav-dropdown')) {
                document.querySelectorAll('.nav-dropdown').forEach(d => d.classList.remove('open'));
            }
        });

        const infoPanel = document.getElementById('infoPanel');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progressDots = document.getElementById('progressDots');
        const rowWithout = document.getElementById('rowWithout');
        const rowWith = document.getElementById('rowWith');

        let currentStep = -1;
        const totalSteps = 6;

        for (let i = 0; i < totalSteps; i++) {
            const dot = document.createElement('div');
            dot.className = 'progress-dot';
            progressDots.appendChild(dot);
        }

        const steps = [
            {
                icon: 'üö´', title: 'Without VPN: You ‚Üí ISP',
                step: 'Without VPN ‚Äî Step 1 of 3',
                action: 'Your traffic goes straight to your ISP in plain text',
                description: 'When you browse without a VPN, your device sends requests directly through your Internet Service Provider. Your ISP can see everything ‚Äî which websites you visit, your search queries, and any unencrypted data.',
                comparison: { without: 'Your ISP sees: IP address, DNS queries, browsing history, and any unencrypted data', with: 'Your ISP would only see encrypted gibberish going to a VPN server IP' },
                concepts: ['ISP Monitoring', 'Plain Text', 'DNS Queries'],
                focus: 'without',
                nodes: { 'n-you1': 'danger', 'n-isp': 'danger' },
                arrows: { 'arrow-a1': 'danger' },
                tags: { 'tag-a1': { cls: 'exposed', text: 'GET example.com' } }
            },
            {
                icon: 'üö´', title: 'Without VPN: ISP ‚Üí Website',
                step: 'Without VPN ‚Äî Step 2 of 3',
                action: 'ISP forwards your request ‚Äî website sees YOUR real IP',
                description: 'Your ISP routes the request to the destination. The website receives your real IP address, which reveals your approximate location and can be used to track you across sites.',
                comparison: { without: 'Website sees your real IP: 86.42.115.73 (London, UK)', with: 'Website would see the VPN server IP: 194.32.18.5 (Amsterdam, NL)' },
                concepts: ['IP Address', 'Geolocation', 'Tracking'],
                focus: 'without',
                nodes: { 'n-you1': 'active', 'n-isp': 'danger', 'n-web1': 'danger' },
                arrows: { 'arrow-a1': 'danger', 'arrow-a2': 'danger' },
                tags: { 'tag-a2': { cls: 'exposed', text: 'From: 86.42.115.73' } }
            },
            {
                icon: 'üö´', title: 'Without VPN: Full Picture',
                step: 'Without VPN ‚Äî Step 3 of 3',
                action: 'No privacy at any hop in the chain',
                description: 'Without a VPN, your traffic is an open book. Your ISP logs which sites you visit, the websites know exactly who and where you are, and anyone on the same network (like public WiFi) could potentially intercept your data.',
                comparison: { without: 'ISP, network admins, and potentially attackers on public WiFi can all monitor your traffic', with: 'All traffic is encrypted end-to-end between you and the VPN server' },
                concepts: ['No Privacy', 'Public WiFi Risk', 'Traffic Logging'],
                focus: 'without',
                nodes: { 'n-you1': 'danger', 'n-isp': 'danger', 'n-web1': 'danger' },
                arrows: { 'arrow-a1': 'danger', 'arrow-a2': 'danger' },
                tags: { 'tag-a1': { cls: 'exposed', text: 'üîì Plain text' }, 'tag-a2': { cls: 'exposed', text: 'üìç Real IP' } }
            },
            {
                icon: 'üõ°Ô∏è', title: 'With VPN: Encrypted Tunnel',
                step: 'With VPN ‚Äî Step 1 of 3',
                action: 'Your device encrypts ALL traffic before it leaves',
                description: 'When you connect to a VPN, your device first establishes an encrypted tunnel to the VPN server. All your internet traffic gets wrapped in encryption before it even reaches your ISP. Your ISP only sees scrambled data going to one IP address.',
                comparison: { without: 'Data leaves your device in readable form', with: 'Data is encrypted on your device before transmission ‚Äî ISP sees only the VPN server IP and encrypted blobs' },
                concepts: ['Encryption', 'Tunnel', 'AES-256'],
                focus: 'with',
                nodes: { 'n-you2': 'safe', 'n-vpn': 'safe' },
                arrows: { 'arrow-b1': 'safe' },
                tags: { 'tag-b1': { cls: 'encrypted', text: 'üîí Encrypted' } }
            },
            {
                icon: 'üõ°Ô∏è', title: 'With VPN: Decryption & Forwarding',
                step: 'With VPN ‚Äî Step 2 of 3',
                action: 'VPN server decrypts and forwards with its own IP',
                description: 'The VPN server receives your encrypted traffic, decrypts it, and forwards the request to the website on your behalf. The website sees the VPN server\'s IP address, not yours. Your real identity stays hidden.',
                comparison: { without: 'Request comes from your IP ‚Üí you\'re identifiable', with: 'Request comes from VPN server IP ‚Üí you\'re one of thousands of users sharing that IP' },
                concepts: ['IP Masking', 'Decryption', 'Anonymity'],
                focus: 'with',
                nodes: { 'n-you2': 'active', 'n-vpn': 'safe', 'n-web2': 'safe' },
                arrows: { 'arrow-b1': 'safe', 'arrow-b2': 'safe' },
                tags: { 'tag-b1': { cls: 'encrypted', text: 'üîí Encrypted' }, 'tag-b2': { cls: 'encrypted', text: 'From: 194.32.18.5' } }
            },
            {
                icon: '‚úÖ', title: 'With VPN: Full Picture',
                step: 'With VPN ‚Äî Step 3 of 3',
                action: 'Privacy at every hop in the chain',
                description: 'With a VPN active, your ISP only sees encrypted data going to the VPN server. The website only sees the VPN server\'s IP, not yours. The encrypted tunnel protects you on public WiFi, hides your browsing from your ISP, and masks your location from websites.',
                comparison: { without: 'Everyone in the chain knows who you are and what you\'re doing', with: 'ISP sees encrypted traffic. Website sees VPN IP. Only the VPN provider could theoretically see both ‚Äî which is why choosing a trusted, no-log VPN matters.' },
                concepts: ['No-Log Policy', 'End-to-End', 'Full Privacy'],
                focus: 'with',
                nodes: { 'n-you2': 'safe', 'n-vpn': 'safe', 'n-web2': 'safe' },
                arrows: { 'arrow-b1': 'safe', 'arrow-b2': 'safe' },
                tags: { 'tag-b1': { cls: 'encrypted', text: 'üîí Hidden' }, 'tag-b2': { cls: 'encrypted', text: 'üîí Hidden' } }
            }
        ];

        function resetVisuals() {
            document.querySelectorAll('.vnode-box').forEach(n => n.classList.remove('active', 'danger', 'safe'));
            document.querySelectorAll('.varrow-line').forEach(l => l.classList.remove('danger', 'safe'));
            document.querySelectorAll('.varrow-tag').forEach(t => { t.classList.remove('visible', 'exposed', 'encrypted'); t.textContent = ''; });
            rowWithout.classList.remove('dim');
            rowWith.classList.remove('dim');
        }

        function updateUI() {
            document.querySelectorAll('.progress-dot').forEach((dot, i) => {
                dot.classList.remove('active', 'visited');
                if (i === currentStep) dot.classList.add('active');
                else if (i < currentStep) dot.classList.add('visited');
            });

            prevBtn.disabled = currentStep <= 0;
            nextBtn.textContent = currentStep >= totalSteps - 1 ? 'RESTART' : 'NEXT ‚Üí';
            resetVisuals();

            if (currentStep >= 0) {
                const step = steps[currentStep];

                if (step.focus === 'without') rowWith.classList.add('dim');
                else rowWithout.classList.add('dim');

                Object.entries(step.nodes).forEach(([id, cls]) => {
                    document.getElementById(id)?.classList.add(cls);
                });
                Object.entries(step.arrows).forEach(([id, cls]) => {
                    document.getElementById(id)?.classList.add(cls);
                });
                Object.entries(step.tags).forEach(([id, { cls, text }]) => {
                    const el = document.getElementById(id);
                    if (el) { el.textContent = text; el.classList.add(cls, 'visible'); }
                });

                let compHTML = '';
                if (step.comparison) {
                    compHTML = `<div class="info-comparison">
                        <div class="comparison-card without"><div class="comparison-card-title">üö´ Without VPN</div><p>${step.comparison.without}</p></div>
                        <div class="comparison-card with"><div class="comparison-card-title">üõ°Ô∏è With VPN</div><p>${step.comparison.with}</p></div>
                    </div>`;
                }

                infoPanel.innerHTML = `
                    <div class="info-header">
                        <div class="info-icon">${step.icon}</div>
                        <div><div class="info-step">${step.step}</div><div class="info-title">${step.title}</div></div>
                    </div>
                    <div class="info-action">${step.action}</div>
                    <p class="info-description">${step.description}</p>
                    ${compHTML}
                    <div class="info-concepts">
                        <div class="info-concepts-title">Key Concepts</div>
                        ${step.concepts.map(c => `<span class="concept-tag">${c}</span>`).join('')}
                    </div>`;
            } else {
                infoPanel.innerHTML = `<div class="info-intro">
                    <div class="analogy-box">
                        <div class="analogy-box-title">üõ°Ô∏è What is a VPN?</div>
                        <p>Think of it like sending mail. Normally, your ISP is the postal worker ‚Äî they can read the address and the contents. A VPN is like putting your letter inside a locked box that only opens at the VPN server, which then forwards it for you.</p>
                        <p>The website only sees the VPN server's address, not yours.</p>
                    </div>
                    <p class="hint">Click Next to compare traffic with and without a VPN ‚Üí</p>
                </div>`;
            }
        }

        function nextStep() { currentStep = currentStep >= totalSteps - 1 ? -1 : currentStep + 1; updateUI(); }
        function prevStep() { if (currentStep > 0) { currentStep--; updateUI(); } }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') nextStep();
            else if (e.key === 'ArrowLeft') prevStep();
        });

        updateUI();
    </script>
</body>
</html>
